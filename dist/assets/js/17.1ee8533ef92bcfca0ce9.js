webpackJsonp([17],{Wozy:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s("7t+N");var i={data(){return{country:"中国",codedisabled:!1,sendcodeValue:this.$t("uc.regist.sendcode"),isRegister:!1,ticket:"",randStr:"",registing:!1,captchaObj:null,modal1:!1,_captchaResult:null,agree:!0,allowRegister:!0,buttonLists:[{},{text:this.$t("uc.regist.emailregist")}],areas:[],changeActive:1,showCode:!0,countdown:60,formInline:{username:"",user:"",code:"",areaCode:"",password:"",repassword:"",promotion:""},ruleInline:{user:[{validator:(e,t,s)=>{if(0==this.changeActive)""==t?s(new Error(this.$t("uc.regist.teltip"))):s();else{var i=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;i=/^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/,""==t?s(new Error(this.$t("uc.regist.emailtip"))):i.test(this.formInline.user)?s():s(new Error(this.$t("uc.regist.emailerr")))}},trigger:"blur"}],code:[{required:!0,message:this.$t("uc.regist.smscodetip"),trigger:"blur"}],password:[{required:!0,message:this.$t("uc.regist.pwdtip"),trigger:"blur"},{type:"string",min:6,message:this.$t("uc.regist.pwdmsg"),trigger:"blur"}],repassword:[{validator:(e,t,s)=>{""===t?s(new Error(this.$t("uc.regist.confirmpwdtip"))):t!==this.formInline.password?s(new Error(this.$t("uc.regist.confirmpwderr"))):s()},trigger:"blur"}]},key:"",code:""}},watch:{changeActive:function(e){this.$refs.formInline.resetFields()},lang:function(){this.updateLangData()}},computed:{lang:function(){return this.$store.state.lang},isLogin:function(){return this.$store.getters.isLogin}},created:function(){window.scrollTo(0,0),this.init(),this.actives(this.changeActive),void 0!=this.$route.query.code&&""!=this.$route.query.code&&null!=this.$route.query.code?this.formInline.promotion=this.$route.query.code:this.formInline.promotion=""},methods:{updateLangData(){this.buttonLists=[{text:this.$t("uc.regist.telregist")},{text:this.$t("uc.regist.emailregist")}],0==this.changeActive?this.key=this.$t("uc.regist.telno"):this.key=this.$t("uc.regist.email")},init(){this.$store.commit("navigate","nav-other"),this.$store.state.HeaderActiveName="0",this.isLogin&&this.$router.push("/"),this.getAreas(),this.isRegister=!0},initGtCaptcha(){var e=this;new TencentCaptcha("2076680797",function(t){0==t.ret&&(e.isRegister=!0)&&(e.ticket=t.ticket)&&(e.randStr=t.randstr)&&e.success()}).show()},onAreaChange(e){for(var t=0;t<this.areas.length;t++)this.areas[t].zhName==e&&(this.formInline.areaCode=this.areas[t].areaCode)},getAreas(){this.$http.post(this.host+this.api.common.area,{isReg:1}).then(e=>{var t=e.body;this.areas=t.data,this.allAreas=t.data,t.data.length>0&&(this.country=this.areas[0].zhName,this.language=this.areas[0].language,this.formInline.country=this.areas[0].zhName,this.formInline.areaCode=this.areas[0].areaCode)})},actives:function(e){this.changeActive=e,0==this.changeActive?(this.showCode=!0,this.key=this.$t("uc.regist.telno"),this.ruleInline.code=[{required:!0,message:this.$t("uc.regist.smscodetip"),trigger:"blur"}]):(this.showCode=!1,this.key=this.$t("uc.regist.email"),this.ruleInline.code=[])},handleSubmit(e){this.$refs[e].validate(e=>{var t;e&&(1==this.agree?1==this.changeActive?this.isRegister?(this.registing=!0,(t={}).email=this.formInline.user,t.username=this.formInline.username+this.formInline.user,t.password=this.formInline.password,t.promotion=this.formInline.promotion,t.country=this.country,t.superPartner="",t.code=this.formInline.code,t.visitCode=this.formInline.visitPassword,this.$http.post(this.host+"/uc/register/email",t).then(e=>{this.registing=!1;var t=e.body;if(0==t.code)if("1"==this.formInline.superType||"2"==this.formInline.superType){this.$Notice.success({title:this.$t("common.tip"),desc:"已注册成功!"});var s=this;setTimeout(()=>{s.$router.push("/")},3e3)}else{this.$Notice.success({title:this.$t("common.tip"),desc:t.message});s=this;setTimeout(()=>{s.$router.push("/login")},3e3)}else this.$Notice.error({title:this.$t("common.tip"),desc:t.message})})):this.$Notice.error({title:this.$t("common.tip"),desc:"opps"}):this.isRegister?(this.registing=!0,(t={}).phone=this.formInline.user,t.username=this.formInline.username+this.formInline.user,t.password=this.formInline.password,t.promotion=this.formInline.promotion,t.code=this.formInline.code,t.country=this.country,t.superPartner="",t.ticket=this.ticket,t.randStr=this.randStr,this.$http.post(this.host+"/uc/register/phone",t).then(e=>{this.registing=!1;var t=e.body;if(0==t.code)if("1"==this.formInline.superType||"2"==this.formInline.superType){this.$Notice.success({title:this.$t("common.tip"),desc:"已注册成功!"});var s=this;setTimeout(()=>{s.$router.push("/")},3e3)}else{this.$Notice.success({title:this.$t("common.tip"),desc:t.message});s=this;setTimeout(()=>{s.$router.push("/login")},3e3)}else this.$Notice.error({title:this.$t("common.tip"),desc:t.message})})):this.$Notice.error({title:this.$t("common.tip"),desc:"请输入正确的验证码"}):this.$Notice.error({title:this.$t("common.tip"),desc:this.$t("uc.regist.agreementtip")}))})},settime(){this.sendcodeValue=this.$t("uc.regist.resendcode")+this.countdown+")",this.codedisabled=!0;var e=this;let t=setInterval(()=>{e.countdown--,e.sendcodeValue=e.$t("uc.regist.resendcode")+e.countdown+")",this.countdown<=0&&(clearInterval(t),e.codedisabled=!1,e.sendcodeValue=e.$t("uc.regist.sendcode"),e.countdown=60)},1e3)},sendCode(){this.success()},success(){var e;0==this.changeActive?((e={}).phone=this.formInline.user,e.country=this.country,this.$http.post(this.host+"/uc/mobile/code",e).then(e=>{var t=e.body;0==t.code&&this.$Notice.success({title:this.$t("common.tip"),desc:t.message}),0==t.code&&this.settime(),0!=t.code&&this.$Notice.error({title:this.$t("common.tip"),desc:t.message})}),!reg.test(e.phone)&&this.$Notice.error({title:this.$t("common.tip"),desc:this.$t("uc.finance.withdraw.telerr")})):((e={}).email=this.formInline.user,this.$http.post(this.host+"/uc/reg/email/code",e).then(e=>{var t=e.body;0==t.code&&this.$Notice.success({title:this.$t("common.tip"),desc:t.message}),0==t.code&&this.settime(),0!=t.code&&this.$Notice.error({title:this.$t("common.tip"),desc:t.message})}))}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login_form"},[s("div",{staticClass:"login_right"},[e.allowRegister?s("Form",{ref:"formInline",attrs:{model:e.formInline,rules:e.ruleInline,inline:""}},[s("FormItem",{staticStyle:{"text-align":"center"}},[s("ButtonGroup",e._l(e.buttonLists,function(t,i){return s("Button",{key:t.text,class:{active:e.changeActive==i},on:{click:function(t){e.actives(i)}}},[e._v(e._s(t.text))])}))],1),e._v(" "),s("FormItem",{staticStyle:{display:"none"},attrs:{prop:"username"}},[s("Input",{attrs:{type:"text",placeholder:e.$t("uc.regist.username")},model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username",t)},expression:"formInline.username"}})],1),e._v(" "),s("FormItem",{attrs:{prop:"user"}},[0==e.changeActive?s("Input",{attrs:{type:"text",placeholder:e.key},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}},[s("Select",{staticStyle:{width:"65px","border-bottom":"1px solid #27313e"},attrs:{slot:"prepend"},slot:"prepend",model:{value:e.country,callback:function(t){e.country=t},expression:"country"}},e._l(e.areas,function(t,i){return s("Option",{key:i,attrs:{value:t.zhName,label:"+"+t.areaCode}},[s("span",[e._v("+"+e._s(t.areaCode))]),e._v(" "),"简体中文"==e.lang?s("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[e._v(e._s(t.zhName))]):s("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[e._v(e._s(t.enName))])])}))],1):e._e(),e._v(" "),1==e.changeActive?s("Input",{attrs:{type:"text",placeholder:e.key},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}}):e._e()],1),e._v(" "),s("FormItem",{attrs:{prop:"code"}},[s("Input",{attrs:{type:"text",placeholder:e.$t("uc.regist.smscode")},model:{value:e.formInline.code,callback:function(t){e.$set(e.formInline,"code",t)},expression:"formInline.code"}}),e._v(" "),s("input",{attrs:{id:"sendCode",type:"Button",shape:"circle",disabled:e.codedisabled},domProps:{value:e.sendcodeValue},on:{click:function(t){e.sendCode()}}})],1),e._v(" "),s("FormItem",{staticClass:"password",attrs:{prop:"password"}},[s("Input",{attrs:{type:"password",placeholder:e.$t("uc.regist.pwd")},model:{value:e.formInline.password,callback:function(t){e.$set(e.formInline,"password",t)},expression:"formInline.password"}})],1),e._v(" "),s("FormItem",{staticClass:"password",attrs:{prop:"repassword"}},[s("Input",{attrs:{type:"password",placeholder:e.$t("uc.regist.repwd")},model:{value:e.formInline.repassword,callback:function(t){e.$set(e.formInline,"repassword",t)},expression:"formInline.repassword"}})],1),e._v(" "),s("FormItem",{attrs:{prop:"promotion"}},[s("Input",{attrs:{type:"text"},model:{value:e.formInline.promotion,callback:function(t){e.$set(e.formInline,"promotion",t)},expression:"formInline.promotion"}},[s("span",{staticStyle:{"margin-left":"7px"},attrs:{slot:"prepend"},slot:"prepend"},[e._v(e._s(e.$t("uc.regist.promotion"))+" :")])])],1),e._v(" "),s("div",{staticClass:"check-agree"},[s("label",[s("Checkbox",{model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}},[e._v(e._s(e.$t("uc.regist.agreement")))])],1),e._v(" "),"简体中文"==e.lang?s("a",{attrs:{href:"/helpdetail?cate=1&id=5&cateTitle=常见问题",target:"_blank"}},[e._v("《"+e._s(e.$t("uc.regist.userprotocol"))+"》")]):e._e(),e._v(" "),"English"==e.lang?s("a",{attrs:{href:"/helpdetail?cate=1&id=35&cateTitle=Privacy Policy",target:"_blank"}},[e._v("《"+e._s(e.$t("uc.regist.userprotocol"))+"》")]):e._e()]),e._v(" "),s("FormItem",[s("Button",{staticClass:"register_btn",attrs:{disabled:e.registing},on:{click:function(t){e.handleSubmit("formInline")}}},[e._v(e._s(e.$t("uc.regist.regist")))])],1)],1):s("Alert",{attrs:{type:"warning"}},[e._v("\n      Coming soon!\n      "),s("template",{slot:"desc"},[e._v("\n        BinaricX will open register soon\n      ")])],2)],1)])},staticRenderFns:[]};var o=s("VU/8")(i,r,!1,function(e){s("mUvR"),s("p12B"),s("qkS3")},"data-v-9b9a6a92",null);t.default=o.exports},mUvR:function(e,t){},p12B:function(e,t){},qkS3:function(e,t){}});